description: Naia context index. Maps AI contexts to human docs.

sot: .agents/context/agents-rules.json

mirror_pairs:
  # AI context (JSON/YAML) ↔ Human doc (Markdown)
  - agents: .agents/context/agents-rules.json
    users: .users/context/agents-rules.md
    description: Project rules, conventions, testing, logging, security, dev process

  - agents: .agents/context/project-index.yaml
    users: null
    description: This index file (AI-only)

  - agents: .agents/context/vision.yaml
    users: .users/context/vision.md
    description: Project vision, core concept, usage scenarios

  - agents: .agents/context/plan.yaml
    users: .users/context/plan.md
    description: Implementation plan, phases, deliverables, timeline

  - agents: .agents/context/architecture.yaml
    users: .users/context/architecture.md
    description: Hybrid architecture design (OpenClaw + Careti + OpenCode), security layers, Gateway protocol

  - agents: .agents/context/careti-reuse.yaml
    users: .users/context/careti-reuse.md
    description: Code/pattern reuse strategy from project-careti

  - agents: .agents/context/testing.yaml
    users: null
    description: Concrete testing strategy per module, E2E scenarios, phase verification

  - agents: .agents/context/openclaw-sync.yaml
    users: .users/context/openclaw-sync.md
    description: Shell → OpenClaw gateway config sync architecture (provider, model, persona, SOUL.md, chat routing)

  - agents: .agents/context/skill-naia-discord.yaml
    users: .users/context/skill-naia-discord.md
    description: skill_naia_discord definition (send/status/history), target resolution, OAuth flow

  - agents: .agents/context/channels-discord.yaml
    users: .users/context/channels-discord.md
    description: E2E Discord integration architecture (Gateway ↔ Agent ↔ Shell), OAuth deep-link, conversation sync, chat routing via Gateway

  - agents: .agents/context/distribution.yaml
    users: null
    description: Distribution pipeline (Flatpak, AppImage, DEB, RPM, ISO), local build commands, Flathub submission status

  - agents: .agents/context/bazzite-rebranding.yaml
    users: .users/context/bazzite-rebranding.md
    users_en: .users/context/en/bazzite-rebranding.md
    description: Bazzite OS rebranding guide — all assets, layers, and scripts needed to replace Bazzite/Fedora logos

  - agents: .agents/context/demo-video.yaml
    users: .users/context/demo-video.md
    users_en: .users/context/en/demo-video.md
    description: Demo video pipeline — Playwright recording, Google Cloud TTS narration, ffmpeg merge

  - agents: .agents/context/philosophy.yaml
    users: .users/context/philosophy.md
    users_en: .users/context/en/philosophy.md
    description: Core philosophy — why this project exists (AI sovereignty, privacy, transparency)

  - agents: .agents/context/contributing.yaml
    users: .users/context/contributing.md
    users_en: .users/context/en/contributing.md
    description: Contribution guide — how AI agents and humans should contribute

  - agents: .agents/context/phase3-plan.yaml
    users: .users/context/phase3-openclaw-hybrid-plan.md
    description: Phase 3 detailed plan — hybrid OpenClaw + Agent architecture

  - agents: .agents/workflows/development-cycle.yaml
    users: .users/workflows/development-cycle.md
    description: PLAN→CHECK→BUILD→VERIFY→CLEAN→COMMIT cycle, review gates, AI rules

mirroring_rules:
  structure: triple-mirror
  layers:
    - path: .agents/context/
      lang: en
      format: YAML/JSON
      purpose: AI consumption (token-optimized)
    - path: .users/context/
      lang: ko
      format: Markdown
      purpose: Korean human docs (primary)
    - path: .users/context/en/
      lang: en
      format: Markdown
      purpose: English human docs (open-source community)
  rules:
    - When any layer is updated, propagate to the other two
    - AI reads .agents/ for token-efficient context
    - AI reads .users/ (ko or en) for detailed human-level understanding
    - New document = create all three versions
    - README.md stays in Korean (project primary language)

work_logs:
  location: work-logs/
  convention: "YYYYMMDD-NN-<topic>.md"
  note: All naia-os work logs live here (not in docs-work-logs)

on_demand_loading:
  always_read:
    - .agents/context/agents-rules.json
  read_when_needed:
    - .agents/context/philosophy.yaml (when discussing project values, principles, or licensing)
    - .agents/context/contributing.yaml (when contributing code, context, or skills)
    - .agents/context/vision.yaml (when discussing direction/purpose)
    - .agents/context/plan.yaml (when planning or implementing phases)
    - .agents/context/architecture.yaml (when working on agent/gateway integration or Rust backend — ALWAYS read before gateway/Rust work)
    - .agents/context/careti-reuse.yaml (when porting code from careti)
    - .agents/context/testing.yaml (when writing or running tests)
    - .agents/context/openclaw-sync.yaml (when working on OpenClaw sync or persona/settings)
    - .agents/context/skill-naia-discord.yaml (when working on Discord skill or messaging)
    - .agents/context/channels-discord.yaml (when working on Discord integration, OAuth, or Shell conversation sync)
    - .agents/context/distribution.yaml (when building, releasing, or deploying — Flatpak, ISO, Flathub)
    - .agents/context/bazzite-rebranding.yaml (when modifying OS branding, logos, boot splash, or installer assets)
    - .agents/context/demo-video.yaml (when creating, updating, or re-recording demo videos)
    - .agents/workflows/development-cycle.yaml (when coding — ALWAYS read before building)
    - .agents/workflows/* (when executing specific workflows)
