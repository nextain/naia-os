description: Naia OS context index. Maps AI contexts to human docs.

sot: .agents/context/agents-rules.json

mirror_pairs:
  # AI context (JSON/YAML) ↔ Human doc (Markdown)
  - agents: .agents/context/agents-rules.json
    users: .users/context/agents-rules.md
    description: Project rules, conventions, testing, logging, security, dev process

  - agents: .agents/context/project-index.yaml
    users: null
    description: This index file (AI-only)

  - agents: .agents/context/vision.yaml
    users: .users/context/vision.md
    description: Project vision, core concept, usage scenarios

  - agents: .agents/context/plan.yaml
    users: .users/context/plan.md
    description: Implementation plan, phases, deliverables, timeline

  - agents: .agents/context/architecture.yaml
    users: .users/context/architecture.md
    description: Hybrid architecture design (OpenClaw + Careti + OpenCode), security layers, Gateway protocol

  - agents: .agents/context/careti-reuse.yaml
    users: .users/context/careti-reuse.md
    description: Code/pattern reuse strategy from project-careti

  - agents: .agents/context/testing.yaml
    users: null
    description: Concrete testing strategy per module, E2E scenarios, phase verification

  - agents: .agents/context/openclaw-sync.yaml
    users: .users/context/openclaw-sync.md
    description: Shell → OpenClaw gateway config sync architecture (provider, model, persona, SOUL.md, chat routing)

  - agents: .agents/context/skill-naia-discord.yaml
    users: .users/context/skill-naia-discord.md
    description: skill_naia_discord definition (send/status/history), target resolution, OAuth flow

  - agents: .agents/context/channels-discord.yaml
    users: .users/context/channels-discord.md
    description: E2E Discord integration architecture (Gateway ↔ Agent ↔ Shell), OAuth deep-link, conversation sync, chat routing via Gateway

  - agents: .agents/context/distribution.yaml
    users: null
    description: Distribution pipeline (Flatpak, AppImage, DEB, RPM, ISO), local build commands, Flathub submission status

  - agents: .agents/workflows/development-cycle.yaml
    users: .users/workflows/development-cycle.md
    description: PLAN→CHECK→BUILD→VERIFY→CLEAN→COMMIT cycle, review gates, AI rules

mirroring_rules:
  - When .users/ doc is updated, update corresponding .agents/ context
  - When .agents/ context is updated, update corresponding .users/ doc
  - AI can read .agents/ for token-efficient context
  - AI can read .users/ for detailed human-level understanding
  - New document = create both .agents/ and .users/ versions

work_logs:
  location: work-logs/
  convention: "YYYYMMDD-NN-<topic>.md"
  note: All naia-os work logs live here (not in docs-work-logs)

on_demand_loading:
  always_read:
    - .agents/context/agents-rules.json
  read_when_needed:
    - .agents/context/vision.yaml (when discussing direction/purpose)
    - .agents/context/plan.yaml (when planning or implementing phases)
    - .agents/context/architecture.yaml (when working on agent/gateway integration — ALWAYS read before gateway work)
    - .agents/context/careti-reuse.yaml (when porting code from careti)
    - .agents/context/testing.yaml (when writing or running tests)
    - .agents/context/openclaw-sync.yaml (when working on OpenClaw sync or persona/settings)
    - .agents/context/skill-naia-discord.yaml (when working on Discord skill or messaging)
    - .agents/context/channels-discord.yaml (when working on Discord integration, OAuth, or Shell conversation sync)
    - .agents/context/distribution.yaml (when building, releasing, or deploying — Flatpak, ISO, Flathub)
    - .agents/workflows/development-cycle.yaml (when coding — ALWAYS read before building)
    - .agents/workflows/* (when executing specific workflows)
